s3_endpoint: eu-west-1
site: public
gzip: true
index_document: index.html
error_document: pages/404
cloudfront_wildcard_invalidation: true
cloudfront_invalidate_root: true
ignore_on_server: _DELETE_NOTHING_ON_THE_S3_BUCKET_
cache_control:
  "*.png": public, max-age=<%= 60 * 60 * 24 * 90 %>
  "*.svg": public, max-age=<%= 60 * 60 * 24 * 90 %>
  "*.jpg": public, max-age=<%= 60 * 60 * 24 * 90 %>
  "*.jpeg": public, max-age=<%= 60 * 60 * 24 * 90 %>
  "*.js": public, max-age=<%= 60 * 60 * 24 * 30 %>
  "*.css": public, max-age=<%= 60 * 60 * 24 * 30 %>
  "*.otf": public, max-age=<%= 60 * 60 * 24 * 30 %>
  "*": no-cache, no-store
s3_id: <%= ENV['S3_ID'] %>
s3_secret: <%= ENV['S3_SECRET'] %>

# change bucket based on travis ENV
# chechk for PR required as branch in PR's always is master
<% if ENV['TRAVIS_TAG'].to_s != '' %>
s3_bucket: www2.honeypot.io
cloudfront_distribution_id: E21RQMGDUM8ALN
cloudfront_distribution_config:
  aliases:
    quantity: 1
    items:
      CNAME: www2.honeypot.io
<% else %>
s3_bucket: staging.honeypot.io
cloudfront_distribution_id: E3JUH1MUHO6XDX
cloudfront_distribution_config:
  aliases:
    quantity: 1
    items:
      CNAME: staging.honeypot.io
<% end %>
<% if ENV['PREFIX_FOLDER'] != '' %>
s3_key_prefix: <%= ENV['PREFIX_FOLDER'] %>
<% end %>

redirects:
  admin: <%= ENV['APP_HOST'] %>/admin
